import{r as v,u as R,a as $,w as q,o as y,c as x,b as a,d as e,e as d,f as i,g as t,h as k,i as N,E as b,j as z,k as C,l as V,p as F,m as M}from"./index-BD_vPOIF.js";import{E as P,a as T}from"./el-col-CDM6kUoq.js";import{E as j}from"./el-checkbox-ehg8dLIO.js";import{E as A,a as D}from"./el-form-item-zpYs9L6I.js";import{E as G}from"./el-link-1r9SlSJe.js";import{_ as H,E as J}from"./_plugin-vue_export-helper-sP4-tHla.js";import{E as O}from"./el-input-B3BYioaq.js";import"./el-message-BjUAEBJi.js";import"./isEqual-BeXEKKJQ.js";const I=m=>(F("data-v-a99b7f97"),m=m(),M(),m),Q=I(()=>k("h1",null,"注册",-1)),W=I(()=>k("h1",null,"登录",-1)),X={class:"flex"},Y={__name:"LoginPage",setup(m){const n=v(!1),f=v(),o=v({username:"",password:"",repassword:""}),E={username:[{required:!0,message:"请输入用户名",trigger:"change"},{min:6,max:16,message:"用户名必须是6-16位的字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"change"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"change"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"change"},{validator:(g,s,u)=>{s!==o.value.password?u(new Error("输入的密码和前面不一致")):u()},trigger:"change"}]},c=async()=>{await f.value.validate(),await N(o.value),b.success("注册成功"),n.value=!1},K=R(),U=$(),_=async()=>{await f.value.validate();const g=await z(o.value);K.setToken(g.token),b.success("登录成功"),U.push("/")};return q(n,()=>{o.value={username:"",password:"",repassword:""}}),(g,s)=>{const u=T,l=A,p=O,h=J,w=G,S=D,B=j,L=P;return y(),x(L,{class:"login-page"},{default:a(()=>[e(u,{span:12,class:"bg"}),e(u,{span:6,offset:3,class:"form"},{default:a(()=>[n.value?(y(),x(S,{key:0,ref_key:"form",ref:f,size:"large",autocomplete:"off",model:o.value,rules:E},{default:a(()=>[e(l,null,{default:a(()=>[Q]),_:1}),e(l,{prop:"username"},{default:a(()=>[e(p,{"prefix-icon":d(C),placeholder:"请输入用户名",modelValue:o.value.username,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value.username=r),onKeyup:i(c,["enter"])},null,8,["prefix-icon","modelValue"])]),_:1}),e(l,{prop:"password"},{default:a(()=>[e(p,{"prefix-icon":d(V),type:"password",placeholder:"请输入密码",modelValue:o.value.password,"onUpdate:modelValue":s[1]||(s[1]=r=>o.value.password=r),"show-password":"",onKeyup:i(c,["enter"])},null,8,["prefix-icon","modelValue"])]),_:1}),e(l,{prop:"repassword"},{default:a(()=>[e(p,{"prefix-icon":d(V),type:"password",placeholder:"请输入再次密码",modelValue:o.value.repassword,"onUpdate:modelValue":s[2]||(s[2]=r=>o.value.repassword=r),onKeyup:i(c,["enter"])},null,8,["prefix-icon","modelValue"])]),_:1}),e(l,null,{default:a(()=>[e(h,{class:"button",type:"primary","auto-insert-space":"",onClick:c},{default:a(()=>[t(" 注册 ")]),_:1})]),_:1}),e(l,{class:"flex"},{default:a(()=>[e(w,{type:"info",underline:!1,onClick:s[3]||(s[3]=r=>n.value=!1)},{default:a(()=>[t(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(y(),x(S,{key:1,ref_key:"form",ref:f,size:"large",autocomplete:"off",model:o.value,rules:E},{default:a(()=>[e(l,null,{default:a(()=>[W]),_:1}),e(l,{prop:"username"},{default:a(()=>[e(p,{"prefix-icon":d(C),placeholder:"请输入用户名",modelValue:o.value.username,"onUpdate:modelValue":s[4]||(s[4]=r=>o.value.username=r),onKeyup:i(_,["enter"])},null,8,["prefix-icon","modelValue"])]),_:1}),e(l,{prop:"password"},{default:a(()=>[e(p,{name:"password","prefix-icon":d(V),type:"password",placeholder:"请输入密码",modelValue:o.value.password,"onUpdate:modelValue":s[5]||(s[5]=r=>o.value.password=r),onKeyup:i(_,["enter"])},null,8,["prefix-icon","modelValue"])]),_:1}),e(l,{class:"flex"},{default:a(()=>[k("div",X,[e(B,null,{default:a(()=>[t("记住我")]),_:1}),e(w,{type:"primary",underline:!1},{default:a(()=>[t("忘记密码？")]),_:1})])]),_:1}),e(l,null,{default:a(()=>[e(h,{class:"button",type:"primary","auto-insert-space":"",onClick:_},{default:a(()=>[t(" 登录 ")]),_:1})]),_:1}),e(l,{class:"flex"},{default:a(()=>[e(w,{type:"info",underline:!1,onClick:s[6]||(s[6]=r=>n.value=!0)},{default:a(()=>[t(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ue=H(Y,[["__scopeId","data-v-a99b7f97"]]);export{ue as default};
